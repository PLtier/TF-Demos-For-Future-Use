<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Fashion Mnist</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Import the webpage's stylesheet -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1>TensorFlow.js Fashion MNIST classifier</h1>
    <p>
      This experiment shows how you can use the power of Machine Learning
      directly in your browser to train and use a more advanced Convolutional
      Neural Network to classify clothing items from the Fashion MNIST dataset.
      Warning training is slow in browser, ideally you would do this in Node.js
      with CUDA installed for faster training. In the browser without CUDA it
      will take about 5 mins to train, and then inference will be super fast :-)
    </p>
    <section class="box">
      <h2>Input Image</h2>
      <p>
        Input image is a 28x28 pixel greyscale image from the Fashion MNIST
        dataset - a piece of clothing!
      </p>
      <canvas id="canvas" width="28" height="28"></canvas>
    </section>

    <section class="box">
      <h2>Prediction</h2>
      <p>
        Below you see what item the trained TensorFlow.js model has predicted
        from the input image.
      </p>
      <p>
        It should get it right most of the time, but of course it's not perfect,
        so there will be times when it doesn't. Red is a wrong prediction, Green
        is a correct one.
      </p>
      <p id="prediction">
        Training model. Please wait. This can take ~5 minutes. Check console for
        progress (30 epochs total)
      </p>
    </section>

    <div class="blocky">
      <p id="domSpeed">
        Change interval between classifications! Currently 1000ms
      </p>
      <input
        id="ranger"
        type="range"
        min="15"
        max="5000"
        value="2000"
        class="slider"
      />
    </div>

    <script type="module" src="./index.js" defer></script>
    <script>
      var interval = 2000;
      const RANGER = document.getElementById("ranger");
      const DOM_SPEED = document.getElementById("domSpeed");

      // When user drags slider update interval.
      RANGER.addEventListener("input", function (e) {
        interval = this.value;
        DOM_SPEED.innerText =
          "Change speed of classification! Currently: " + interval + "ms";
      });
    </script>
  </body>
</html>
